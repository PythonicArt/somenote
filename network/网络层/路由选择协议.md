动态的自适应的， 分布式路由选择协议

自治系统
    在单一技术管理下的一组路由器， 采用相同的路由选择协议

内部网关协议 IGP
    RIP Routing information protocol
    OSPF

外部网关协议 EGP

RIP
    每个路由器维护多个 地址-距离-下一跳路由 的信息

    距离 1-16, 16为不可达

    通过不断地互相交换信息， 做到该数据的更新

    1. 仅和相邻的路由器交换信息
    2. 交换信息表中的所有内容
    3. 固定时间交换信息

    算法过程
    A向B发送自己的信息表， B收到之后，
    1. 将信息表中的每一个条目的距离都+1， 下一跳路由都改成B
    2. 根据1得到临时表的每一条条目 地址A-距离D-路由B
        i : 如果自己信息表中不存在地址A， 则新加该条目
        ii: 如果存在, 而且下一跳路由就是B, 此时不考虑距离, 直接更新, 以最新的为主
            如果旧的条目中, 下一跳路由不是B, 而且原距离 D1 > D, 则用新的替换掉旧的
            否则 丢弃
    3. 如果3分钟内没有收到某个相邻路由器的信息, 则将该路由器标记为 不可达

    RIP 协议的数据放在 传输层的 udp数据报中

    特点
        每个目的网络都有一个唯一的目的路由
        实现简单, 开销小
        好消息传播快, 坏消息传播慢
            根据算法的过程, 当收到一个路由器B传来的消息中, 到达一个网路的距离小于自己条目的距离时， 是需要作出更新的
            当路由器A直接相连的网络不可达时, 最开始在A中将该网络的条目设为16, 不可达。
            其他路由器需要经过消息传播才知道, 如果A提前收到了其他路由器的条目(旧的数据), 这样就会被老的数据把这个不可达的信息给更新掉
            这样, 需要通过多轮的互传信息, 才能让所有路由器都知道网络不可达的消息

OSPF
    Open Shortest Path First

    每个路由器维护到达 所有路由器(网络) 的 链路状态(该链路的代价： 费用， 距离， 延时或是自定义)

    也就是路由器知道到达所有网络的路径和代价

    一个路由器的状态的变化， 会通过传播的方式， 让每一个路由器都接收到, 进行自己数据的更新

    状态信息 的指标可以由多个标准， 费用， 距离， 延时或是自定义

    OSPF数据直接放在ip数据报中， 数据量小， 不需要分片

    算法过程
        1. A路由器链路发生变化， 将更新的信息发给所有自己相邻接的路由器
        2. 各路由器收到后, 更新自己的路由表, 再转发给非上级的相邻路由器

    问候 : 确定相邻节点的可达性和互通的代价
    请求： 请求某个分组的链路状态信息
    更新； 新链路状态的更新
    确认： 收到更新分组后的确认
    数据库描述: 当前路由节点所有的链路状态信息

    特点
        适用于大型网络
        消息传播及时, 当链路状态发生变化, 就通过洪泛法将数据更新出去
        支持自定义链路代价
        支持相同代价链路的负载均衡, 对于一个目的网络, 可以通过查表计算出路由路径, 如果有多条代价相同路径, 可以均衡选择链路
        支持子网划分和CIDR

EGP
    BGP-4
        每一个AS维护 去其他AS的路径
        维护不同AS系统的传播路径， 这一路径需要考虑 安全， 政治， 个性化等因素， 不一定是距离上最短
        只要是不兜圈子即可

    BGP使用TCP协议作为消息的载体， BGP报文 存放在TCP数据报文中
